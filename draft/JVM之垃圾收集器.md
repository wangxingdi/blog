---
title: JVM之垃圾收集器
categories: 
  - Tech
tags: 
  - jvm
keywords: 
description: JVM之垃圾收集器
date: 2023-03-08 15:02:35
abbrlink: 20230308
---
# 垃圾收集器
## GC算法
### 复制算法
复制算法是一种相对简单的GC算法，其大致流程如下：
1. 内存一分为二，称之A、B；
2. 新生对象先分布于内存A，持续一段时间后，内存A临界需要进行一次YGC；
3. 通过可达性分析，找出存活的对象，将其复制到内存B（A不用管，后续直接分配内存即可）；
4. 新生对象再分布于内存B，持续一段时间后，内存B临界需要进行一次YGC；
5. 通过可达性分析，找出存活的对象，将其复制到内存A（B不用管，后续直接分配内存即可）；
6. 步骤2-步骤5循环。

优缺点
* 优点：实现比较简单；没有内存碎片；理论上说，只需要扫描一次内存；
* 缺点：浪费一半的内存空间；

### 标记清除算法
见名知意，标记清除算法主要的工作步骤是：先标记，再清除
1. 通过可达性分析，标记存活的对象；
2. 遍历堆内存，在空闲列表中记录没有被标记的内存地址，同时取消存活对象的标记；
3. 后续在新建对象时，需要通过遍历空闲列表来查找可使用的空间；

优缺点：
* 优点：实现比较简单；内存空间利用率较高；
* 缺点：GC完成后，易产生内存碎片；需要额外维护空闲列表；


