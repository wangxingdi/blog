---
title: 跨部门共建编码的风险
categories: 
  - Tech
tags: 
  - 
keywords: 
description: 跨部门共建编码的风险
date: 2021-11-26 14:57:25
abbrlink: 20211226
---

最近接到一个共建需求的开发任务。

所谓的“共建”，就是本来应该由A部门或者A小组来完成的工作，却因为各种各样的原因，向B小组暂时借一两个人来完成开发任务的一种情况。在这种场景下，A小组往往是以人力不足，或者是目前开发排期已满等等理由请求其他部门的支援。这虽是一种比较客观、并且可以理解的工作状况，但我并不认为这是一种可以广泛使用的场景。因为在尝试一次共建后，我觉得其中存在了诸多的隐患。

于是我整理了一下本次的开发过程，记录我所经历的那些事儿。

## 需求沟通
在这个阶段，我完全没有感觉到压力，那么这是为什么呢？
因为首先，我对共建的这个项目是不怎么了解的，毕竟是其他部门的项目。所以在需求沟通的时候，我能做到的只是尽力的去理解别人给我讲解的内容，根本没有精力提出什么像样的疑问，更别说还能预见并提出一些可能存在的“坑”了。在这个阶段越是轻松，后面的过程就越会痛苦。当然，如果是一个公司的老鸟，对各个部门的业务和现状都有一定的了解，那么在这个阶段，提出疑问并预见可能存在的风险，是比较容易的。但是反过来说，一个老鸟怎么会去主动承担这种费力且不讨好的开发任务呢？你品，你细品。

## 开发
对于我接到的开发任务来说，开发的过程是相对比较容易的，因为需求并不复杂，只是在原有流程上优化了其中的一个小环节。也就是在这个阶段，我才提出了一些疑问和待确认点，花点时间跟PM一一确认后，整体的代码逻辑就完成了。这个时候第一个风险项就暴露了出来，由于我的代码需要依赖外部的jar包，所以需要C部门的同事支持。这个过程是充满不确定性的，因为你的进度完全依赖于同事的责任心。

## 单元测试
从这个阶段开始，麻烦才是真正的开始。
首先我遇到的第一个问题就是如何进行单元测试？请注意，这并不是一个简单而独立的工具类，而是一个很长的流程中的一个环节，所以你必须将整个流程跑起来，这才是最恐怖的。比如：你如何保证前面的N次RPC调用都是OK的？又是如何保证前面的N+1次校验都是通过的？
为了能够让自己改动后的代码执行一次，我就像小时候玩的闯关游戏一样，不断地尝试，不断的看日志，不断的注释或者添加代码。

## 测试环境部署


